# Content

* [Content](#content)

# 流程

1.**前端控制器收到请求，调用`doDispatch`处理**

2.根据`HandlerMapping`中保存的请求映射信息找到，**处理当前请求的处理器执行链（包含拦截器**）

3.**根据当前处理器找到适配器**`HandlerAdapter`

4.**拦截器的`preHandle`先执行**

5.**适配器执行目标方法，并返回**`ModelAndView`

* `ModelAttribute`注解标注的方法提前运行
* 执行目标方法的时候（确定目标方法用的参数）
  * 有注解
  * 没注解
    * 看是否`Model，Map`以及其他的
    * 如果是自定义类型
      * 看隐含模型，有就拿
      * 如果没有，看是否是`SessionAttributes`标注的属性
        * 是 - 去session中拿，没有就抛异常
      * 都没有就利用反射创建对象

6.**拦截器的`postHandle`执行**

7.**处理结果（页面渲染流程**）

* **如果有异常 - 异常解析器处理；处理完后返回`ModelAndView`**
* **调用`render`进行页面渲染**
  * 视图解析器根据视图名的到视图对象
  * 视图对象调用`render`方法
* **执行拦截器的`AfterCompletion`方法**