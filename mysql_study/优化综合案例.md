# Content

* [Content](#content)![](/static/2021-08-24-14-11-09.png)

# 需求

![](/static/2021-08-24-14-11-31.png)
![](/static/2021-08-24-14-12-38.png)

# 搭库

![](/static/2021-08-24-14-12-50.png)
![](/static/2021-08-24-14-13-09.png)

# AOP

![](/static/2021-08-24-14-19-25.png)
![](/static/2021-08-24-14-20-18.png)

# 优化

![](/static/2021-08-24-14-59-23.png)

## 优化count操作

![](/static/2021-08-24-15-00-24.png)

## 优化limit

![](/static/2021-08-24-15-02-25.png)
![](/static/2021-08-24-15-06-04.png)

## 索引

![](/static/2021-08-24-15-07-24.png)

## 排序

在查询数据时，如果业务需求中需要我们对结果内容进行了排序处理 , 这个时候 , **我们还需要对排序的字段建立适当 的索引** , 来提高排序的效率

## 读写分离

![](/static/2021-08-24-15-08-04.png)

对于读写分离的实现，可以通过 Spring AOP 来进行动态的切换数据源，进行操作 ：

* 继承`AbstractRoutingDataSource`实现动态切换数据源