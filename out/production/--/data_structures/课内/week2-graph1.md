# Graph & Graph Algo 1

* [Graph & Graph Algo 1](#graph--graph-algo-1)
  * [Graph Basics](#graph-basics)
  * [å›¾è¡¨ç¤ºï¼šGraph Representations](#å›¾è¡¨ç¤ºgraph-representations)
    * [é‚»æ¥è¡¨å®ç°ï¼šæ— å‘å›¾](#é‚»æ¥è¡¨å®ç°æ— å‘å›¾)
  * [å›¾æœç´¢/éå†ç®—æ³•ï¼šGraph search & traversal algo](#å›¾æœç´¢éå†ç®—æ³•graph-search--traversal-algo)
    * [æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼šDepth first search](#æ·±åº¦ä¼˜å…ˆç®—æ³•depth-first-search)
    * [å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼šBreadth first search](#å¹¿åº¦ä¼˜å…ˆç®—æ³•breadth-first-search)
  * [å¸¦æƒå›¾ï¼šweighted graphs](#å¸¦æƒå›¾weighted-graphs)
    * [æœ€çŸ­è·¯å¾„ï¼šShortest path](#æœ€çŸ­è·¯å¾„shortest-path)
    * [è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼šDijkstraâ€™s algorithm](#è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•dijkstras-algorithm)
    * [è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•-è¾¹æ¾å¼›ï¼šEdge Relaxation](#è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•-è¾¹æ¾å¼›edge-relaxation)

## Graph Basics

æ— å‘å›¾

![](/static/2020-11-10-12-20-22.png)

æœ‰å‘å›¾

![](/static/2020-11-10-12-20-40.png)

* uä¸vé‚»æ¥(u,v)
  * u is ajacent to v
  * v is ajacent from u

è·¯å¾„ path

![](/static/2020-11-10-12-22-43.png)

ç¯ cycle

![](/static/2020-11-10-12-25-52.png)

## å›¾è¡¨ç¤ºï¼šGraph Representations

![](/static/2020-11-10-12-26-32.png)

### é‚»æ¥è¡¨å®ç°ï¼šæ— å‘å›¾

![](/static/2020-11-10-12-32-06.png)

ç±»è®¾è®¡

* é‚»æ¥èŠ‚ç‚¹`AdjListNode`
  * è¾¹è¡¨èŠ‚ç‚¹
* é¡¶ç‚¹`Vertex`
  * é¡¶ç‚¹è¡¨èŠ‚ç‚¹
  * **åŒ…å«è¡¨ç¤ºé‚»æ¥è¾¹çš„é“¾è¡¨**
* å›¾`Graph`
  * åŒ…å«é¡¶ç‚¹è¡¨array

```java
/* è¾¹è¡¨èŠ‚ç‚¹ */
public class AdjListNode{
    private int vertexIndex;

    public AdjListNode(int i){
        vertexIndex=i;
    }
    public int getVertexIndex(){
        return vertexIndex;
    }
    public int setVertexIndex(int i){
        vertexIndex=i;
    }
}
```

```java
/* é¡¶ç‚¹ */
public class Vertex{
    private int index;
    private LinkedList<AdjListNode> adjList;//é‚»æ¥è¡¨
}
public Vertex(int i){
    index =i;
    adjList = new LinkedList<AdjListNode>();
}

public int getIndex(){
    return index;
}

public int setIndex(int i){
    index=i;
}

public LinkedList<AdjListNode> getAdjList(){
    return adjList;
}

//é‚»æ¥è¡¨æ·»åŠ è¾¹ï¼Œ
public void addToAdjList(int j){
    adjList.addLast(new AdjListNode(j));
}

// è¿”å›èŠ‚ç‚¹åº¦æ•°

public int vertexDegree(){
  return adjList.size();
}
```

```java

/* Graph */

public class Graph{
    private Vertex[] vertices;//é¡¶ç‚¹è¡¨
    private int numVertices=0;

    public Graph(int n){
        numVertices = n;
        vertices = new Vertex[n];
        for (int i=0;i<n; i++) vertices[i]= new Vertex(i);
    }

    public int size(){
        return numVertices;
    }
}
```

## å›¾æœç´¢/éå†ç®—æ³•ï¼šGraph search & traversal algo

![](/static/2020-11-10-14-14-31.png)

ä¾‹å­

* ç½‘ç»œçˆ¬è™«ï¼Œçˆ¬è¶…æ–‡æœ¬æ–‡æ¡£
  * é¡¶ç‚¹- è¶…æ–‡æœ¬æ–‡æ¡£
  * è¾¹ï¼ˆuï¼Œvï¼‰- uåŒ…å«vçš„è¶…é“¾æ¥

é«˜æ•ˆéå†ï¼Œæ—¶é—´å¤æ‚åº¦

* `o(|V|+|E|)`

### æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼šDepth first search

![](/static/2020-11-10-14-19-38.png)

1. æ²¿ç€æœªè®¿é—®ç‚¹çš„è·¯å¾„ä¸€ç›´è®¿é—®ï¼Œç›´åˆ°è·¯å¾„ä¸Šå†æ— ä¸ºè®¿é—®çš„ç‚¹
2. è¿”å›ä¸Šä¸€ä¸ªæœ‰å…¶ä»–é‚»æ¥æœªè®¿é—®çš„é¡¶ç‚¹ï¼Œé‡å¤1ï¼Œ2
3. ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«è®¿é—®

### å¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼šBreadth first search

![](/static/2020-11-10-14-24-21.png)
![](/static/2020-11-10-14-24-54.png)

1. é€‰ä¸­æ¯ä¸ªé¡¶ç‚¹ï¼Œä¾æ­¤è®¿é—®å…¶è¾¹è¡¨ä¸­æ‰€æœ‰é¡¶ç‚¹ï¼ŒåŒæ—¶å…¥é˜Ÿ
2. æ¯æ¬¡ä»é˜Ÿåˆ—é˜Ÿå¤´å–å‡ºé¡¶ç‚¹ï¼Œè®¿é—®å…¶æœªè®¿é—®è¿‡çš„é‚»æ¥ç‚¹
   1. è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ `visited=1`
3. ç›´åˆ°æ‰€æœ‰é¡¶ç‚¹è¢«å¤„ç†

## å¸¦æƒå›¾ï¼šweighted graphs

![](/static/2020-11-10-14-29-15.png)
![](/static/2020-11-10-14-46-12.png)

* æ¯æ¡è¾¹æœ‰æƒé‡
  * cost
  * length
  * capacity
  * æƒé‡ä¸å­˜åœ¨ - `âˆ/æˆ–æ•°æ®ç±»å‹èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼`

### æœ€çŸ­è·¯å¾„ï¼šShortest path

![](/static/2020-11-10-15-02-37.png)

* ä½¿å¾—uï¼Œvé¡¶ç‚¹ä¹‹é—´è·¯å¾„åŠ æƒå’Œæœ€çŸ­

### è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼šDijkstraâ€™s algorithm

![](/static/2020-11-10-15-28-27.png)

* æ‰¾åˆ°æŸé¡¶ç‚¹`u`åˆ°æ‰€æœ‰å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„
* ç»´æŠ¤é›†åˆ`S`ï¼šä¿å­˜å·²çŸ¥`u`åœ¨æœ€çŸ­è·¯å¾„ä¸­çš„å…¶ä»–é¡¶ç‚¹ã€å·²ç»çº³å…¥æœ€çŸ­è·¯å¾„ä¸­çš„é¡¶ç‚¹ã€‘
  * <font color="red">åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šçº³å…¥é¡¶ç‚¹éƒ¨åˆ†ï¼Œæœªå¤„ç†é¡¶ç‚¹éƒ¨åˆ†</font>
  * åˆå§‹ï¼ŒåªåŒ…å«`u`ï¼ˆu-uï¼Œæœ€çŸ­è·¯å¾„0ï¼‰
  * æœ€åï¼ŒåŒ…å«æ‰€æœ‰é¡¶ç‚¹ - æ‰€æœ‰æœ€çŸ­è·¯å¾„éƒ½å·²çŸ¥
* æ¯ä¸ªé¡¶ç‚¹`v`
  * æœ‰æ ‡ç­¾`d(v)`ä»£è¡¨`(u,v)`**æœ€çŸ­è·¯å¾„é•¿åº¦ length of a shortest path**
    * `v`å¿…é¡»åœ¨`S`é›†åˆä¸­
  * `d(v)=âˆ`ï¼Œå¦‚æœæ²¡æœ‰è·¯å¾„
  * `d(v)=(u,v)æœ€çŸ­è·¯å¾„é•¿åº¦`ï¼Œå¦‚æœ`v`åœ¨é›†åˆ`S`ä¸­

ğŸŠ dijkstra algoå˜ä½“

* å¦‚æœ`v`åœ¨é›†åˆ`S`ä¸­ï¼Œä¸”`w`ä¸åœ¨
  * åˆ™`(u,w)`æœ€çŸ­è·¯å¾„é•¿åº¦è‡³å°‘`(u,v)`çš„æœ€çŸ­è·¯å¾„é•¿
  * **å³ï¼Œ`(u,w)`è¾¹çš„åŠ æƒå’Œè‡³å°‘ä¸º`d(v)`**ï¼ˆu~vä¹‹é—´æœ€çŸ­è·¯å¾„ç»è¿‡çš„é¡¶ç‚¹å·²ç»åŒ…æ‹¬åœ¨Sä¸­äº†ï¼Œå‰©ä¸‹æœªçº³å…¥çš„ç‚¹éœ€è¦çš„è·¯å¾„è‡³å°‘æ˜¯ç›®å‰d(v)å·²æœ‰çš„æœ€çŸ­è·¯å¾„ï¼‰

### è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•-è¾¹æ¾å¼›ï¼šEdge Relaxation

Dijkstraç®—æ³•ä¸­çš„**æ¾å¼›è¿‡ç¨‹æ˜¯æŒ‡æ›´æ–°è¿æ¥åˆ°é¡¶ç‚¹vçš„æ‰€æœ‰é¡¶ç‚¹çš„æˆæœ¬ï¼Œå¦‚æœå¯ä»¥é€šè¿‡åŒ…å«é€šè¿‡vçš„è·¯å¾„æ¥æ”¹å–„è¿™äº›æˆæœ¬**

* ä¸€å¼€å§‹ï¼Œæœ€çŸ­è·¯å¾„çš„æˆæœ¬è¢«é«˜ä¼°äº†(æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œæœªå®Œæˆ)ï¼Œæ¯”ä½œæ‹‰é•¿çš„å¼¹ç°§ã€‚
* å½“å‘ç°è¾ƒçŸ­çš„è·¯å¾„æ—¶ï¼Œä¼°è®¡æˆæœ¬å°±ä¼šé™ä½ï¼Œæˆæœ¬ä¹Ÿå°±æ”¾æ¾äº†ã€‚æœ€ç»ˆï¼Œæ‰¾åˆ°äº†æœ€çŸ­çš„è·¯å¾„ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæˆæœ¬ï¼ˆçœ‹ä½œå¼¹ç°§ï¼‰å°±æ”¾æ¾åˆ°äº†å®ƒçš„é™æ­¢é•¿åº¦

---

![](/static/2020-11-10-17-57-44.png)

* å‡è®¾é¡¶ç‚¹`v`&`w`éƒ½æœªå¤„ç†ï¼Œä¸åœ¨é›†åˆ`S`ä¸­
  * `(u,v)`æœ€çŸ­è·¯å¾„ - `d(v)`
  * `(u,w)`æœ€çŸ­è·¯å¾„ - `d(w)`
* ç°å‡è®¾ï¼Œ`v`åŠ å…¥`S`ï¼ˆçº³å…¥æœ€çŸ­è·¯å¾„æ¶‰åŠçš„é¡¶ç‚¹ï¼‰
  * åˆ™ï¼Œè¾¹`(v,w)`æƒé‡`wt(e)`
* **æ±‚ï¼Œ`(u,w)`æœ€çŸ­è·¯å¾„ï¼Ÿ**ï¼Œä¸¤ç§æƒ…å†µ
  * åŒ…æ‹¬ä¸Šæ¬¡çº³å…¥é¡¶ç‚¹`v`ï¼Œ = `d(v) + wt(e)`
  * ä¸åŒ…æ‹¬ä¸Šæ¬¡çº³å…¥é¡¶ç‚¹`v`---åŸæ¥è·¯å¾„ = `d(w)`

ğŸŠ å› æ­¤åˆ°`w`æœ€çŸ­è·¯å¾„ï¼Œæ›´æ–°åº”ç¬¦åˆ

* `d(w) = min{d(w), d(v) + wt(e)}`

ä¼ªç 

![](/static/2020-11-10-18-06-33.png)
![](/static/2020-11-10-18-14-06.png)
![](/static/2020-11-10-18-16-16.png)
![](/static/2020-11-10-18-22-10.png)