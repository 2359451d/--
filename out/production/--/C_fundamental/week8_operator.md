# Week 8

prologue - 前言

* **C++中有运算符重载机制**，可以赋予一个运算符更多的含义&功能

![](/static/2020-07-27-15-32-25.png)
![](/static/2020-07-27-15-41-27.png)
![](/static/2020-07-27-16-34-09.png)

* **逗号优先级最低**

* 剪刀法

## 赋值运算符 - assignment operator

`=`

* 给`=`左边变量赋予数值

### TIPS

1. 长数 -> 短数，直接砍

   ![](/static/2020-07-27-14-38-22.png)

   如 `short(2B) = long(4B)`

   ![](/static/2020-07-27-14-40-11.png)

2. 短数 -> 长数

   ![](/static/2020-07-27-14-42-03.png)
   ![](/static/2020-07-27-14-43-16.png)

3. 符号位处理

   ![](/static/2020-07-27-14-44-39.png)
   ![](/static/2020-07-27-14-45-41.png)

4. 两边类型不同时

   * **自动完成类型转换**

### 表达式 - expression

> 由运算符，操作数，括号组成的计算式，计算求值的基本单位

* **赋值语句也是表达式**
* 表达式有**值**

---

![](/static/2020-07-27-14-50-57.png)

---

#### 连续赋值运算 - continuous assignment operation

注意优先级，**右向左**

![](/static/2020-07-27-14-54-16.png)

## 算术运算 - arithmetic operation

![](/static/2020-07-27-14-57-29.png)

### 优先级 - priority

![](/static/2020-07-27-14-59-32.png)

### 剪刀法求表达式值

从优先级最低处开始计算，砍完后从左向右进行计算

![](/static/2020-07-27-15-03-43.png)

* 如果出现`short`，要先转为`int`在计算
* 出现`char`与`int`求和，同理

### 类型转换 - type conversion during calculating

![](/static/2020-07-27-15-07-04.png)

## 自增&自减 - Increment & Decrement

`i++`优先`-`

`++i`同级`-`，先右后左

`i++`优先`++i`

![](/static/2020-07-27-15-18-39.png)
![](/static/2020-07-27-15-12-31.png)

### 打印注意事项(Visual C++)

`cout`中出现多个表达式时，优先计算右边表达式

* **如同一分隔符内有括号，分优先级计算**
* Visual C++中括号两边，等待括号两边整个算完再进行`f++`

![](/static/2020-07-27-15-25-29.png)
![](/static/2020-07-27-15-25-54.png)

## 关系运算符 - relational operator

![](/static/2020-07-27-15-28-32.png)

## 逻辑运算符 - logical operator

注意

![](/static/2020-07-27-15-48-27.png)
![](/static/2020-07-27-15-50-44.png)

---

![](/static/2020-07-27-15-38-01.png)

### 优先级 - priority

![](/static/2020-07-27-15-41-33.png)

## 其他运算符：逗号，条件(三目)，强转

### 逗号

![](/static/2020-07-27-16-09-35.png)

### 条件运算符（三目）

三目: 指有3个操作数参与的运算

![](/static/2020-07-27-16-12-28.png)

### 强转

![](/static/2020-07-27-16-14-36.png)

## 位运算

对二进制位的运算（通过对字节单位控制实现）

![](/static/2020-07-27-16-19-50.png)

### 按位与

每一位都进行与运算`&`

![](/static/2020-07-27-16-20-42.png)

### 按位或

每一位都进行或运算`|`

![](/static/2020-07-27-16-21-28.png)

### 按位异或

`∧` 也称`XOR`运算符，每一位进行异或运算

![](/static/2020-07-27-16-23-59.png)

### 取反

单目，对一个二进制数进行按位取反

![](/static/2020-07-27-16-24-39.png)

### 左/右移运算符

二进制位左移

![](/static/2020-07-27-16-25-48.png)

* 溢出舍弃
* 乘`2`计算中可以运用，速度更快【无溢出情况】

---

二进制位右移

![](/static/2020-07-27-16-28-05.png)

* 低位舍弃，无符号数`unsigned`高位补`0`
* 除`2`计算中可以运用，速度更快【无溢出情况】

#### 问题 & 优先级

🍊 右移处理**有符号**值，注意高位移入`0/1`由计算机系统决定

![](/static/2020-07-27-16-30-09.png)

🍊 **不同长度数据**进行位运算

![](/static/2020-07-27-16-32-04.png)

🍊 位&赋值运算 - 复合赋值运算

![](/static/2020-07-27-16-33-30.png)

🍊 优先级

![](/static/2020-07-27-16-34-09.png)

### 位运算作用

![](/static/2020-07-27-16-36-33.png)
![](/static/2020-07-27-16-37-23.png)
![](/static/2020-07-27-16-38-37.png)

* 常用：交换两个值，异或3次
